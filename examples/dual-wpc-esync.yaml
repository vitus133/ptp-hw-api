commonDefinitions:
  eSyncDefinitions:
  - name: "10MHz-1PPS"
    esyncConfig:
      transferFrequency: 10000000
      embeddedSyncFrequency: 1

behavior:
  sources:
  - name: GNSS
    clockId: "0x112233fffe445566"
    sourceType: "gnss"
    boardLabel: "GNSS_1PPS"

structure:
- name: WPC GM leader SMA1 output
  ethernet:
  - ports: ["ens4f0"]
  dpll: 
    clockId: "0x112233fffe445566"
    phaseInputs:
      GNSS_1PPS:
        frequency: 1
        phaseAdjustment:
          internal: 7000
    phaseOutputs:
      REF_SMA1:
        eSyncConfigName: "10MHz-1PPS"
        # This will be used by the plugin to configure the MUX logic
        connector: SMA1  
        phaseAdjustment:
          internal: 2323
          # covers cable and the input side of the next card, which is not programmable
          external: 12344 

- name: WPC follower through SMA1
  ethernet:
  - ports: ["ens7f0"]
  dpll:
    clockId: "0xc7cc7cfffe001122"
    phaseInputs:
      SMA1:
        eSyncConfigName: "10MHz-1PPS"
        connector: SMA1        
